<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>🧙 Emoji Quest: The Crystal Kingdom 💎</title>
        <link rel="stylesheet" href="styles.css">
    </head>
    <body>
        <div class="game-container">
            <header class="game-header">
                <h1>🧙 Emoji Quest: The Crystal Kingdom 💎</h1>
                <div class="player-stats">
                    <div class="stat">
                        <span class="stat-label">❤️ Health:</span>
                        <span id="health">100</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">⭐ Experience:</span>
                        <span id="experience">0</span>
                    </div>
                    <div class="stat">
                        <span class="stat-label">💰 Gold:</span>
                        <span id="gold">50</span>
                    </div>
                </div>
            </header>

            <main class="game-main">
                <div class="scene-display">
                    <div class="scene-emojis" id="scene-emojis">
                        🏰✨🌟
                    </div>
                    <div class="scene-text" id="scene-text">
                        Welcome to the Crystal Kingdom! The land where emojis once lived in harmony is now in danger. The great Crystal of Harmony has been shattered, and emojis are beginning to fade away. You must choose your path and restore balance to the realm!
                    </div>
                </div>

                <div class="choices-container" id="choices-container">
                    <div class="choice-button" data-choice="0">
                        🧙‍♂️ Begin as a Wizard
                    </div>
                    <div class="choice-button" data-choice="1">
                        🏹 Begin as an Archer
                    </div>
                    <div class="choice-button" data-choice="2">
                        🛡️ Begin as a Knight
                    </div>
                </div>

                <div class="inventory-container">
                    <h3>🎒 Inventory</h3>
                    <div class="inventory-grid" id="inventory">
                        <div class="inventory-slot empty">📦</div>
                        <div class="inventory-slot empty">📦</div>
                        <div class="inventory-slot empty">📦</div>
                        <div class="inventory-slot empty">📦</div>
                        <div class="inventory-slot empty">📦</div>
                        <div class="inventory-slot empty">📦</div>
                    </div>
                </div>
            </main>

            <footer class="game-footer">
                <div class="game-controls">
                    <button id="save-button" class="game-button">💾 Save Game</button>
                    <button id="load-button" class="game-button">📁 Load Game</button>
                    <button id="restart-button" class="game-button">🔄 Restart Game</button>
                </div>
                <div class="game-info">
                    <span>Current Scene:
                        <span id="current-scene">start</span></span>
                </div>
            </footer>
        </div>

        <!-- Item Info Dialog -->
        <dialog id="item-info-dialog" class="item-dialog">
            <div class="dialog-header">
                <h3 id="dialog-item-name">Item Name</h3>
                <button id="dialog-close-btn" class="dialog-close-btn">✕</button>
            </div>
            <div class="dialog-content">
                <div id="dialog-item-emoji" class="dialog-item-emoji">📦</div>
                <div id="dialog-item-description" class="dialog-item-description">Item description</div>
            </div>
            <div class="dialog-footer">
                <button id="dialog-ok-btn" class="dialog-ok-btn">OK</button>
            </div>
        </dialog>

        <script src="engine.js"></script>
        <script type="module" src="game-data.js"></script>
        <script>
            // Global game instance
            let game;

            // Function to initialize the game (called by game-data.js when ready)
            window.initializeGame = function () {
                game = new EmojiQuestEngine();
                game.init();
            };
        </script>
    </body>
</html>
